{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dmitry\\\\Documents\\\\GitHub\\\\Pandela-Frontend\\\\src\\\\components\\\\Player.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport styles from \"../styles/components/Player.module.scss\";\nimport classNames from \"classnames\";\nimport { useDispatch } from \"react-redux\";\nimport { isTheaterMode } from \"../store/playerModeSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Player = props => {\n  _s();\n  // Состояния для управления плеером\n  const [paused, setPaused] = useState(true); // Приостановлено ли видео\n  const [isTheater, setIsTheater] = useState(false); // Включен ли режим театра\n  const [isFullScreen, setIsFullScreen] = useState(false); // Находится ли видео в полноэкранном режиме\n  const [isMuted, setIsMuted] = useState(false); // Приглушено ли аудио\n\n  const dispatch = useDispatch();\n\n  // Обработчик контекстного меню для предотвращения его отображения\n  const handleContextMenu = e => {\n    e.preventDefault();\n  };\n\n  // Обработчик нажатия клавиш\n  const handleKeyDown = e => {\n    var _document$activeEleme;\n    const tagName = (_document$activeEleme = document.activeElement) === null || _document$activeEleme === void 0 ? void 0 : _document$activeEleme.tagName.toLowerCase();\n    // e.preventDefault();\n\n    if (tagName === \"input\") return;\n    switch (e.key.toLowerCase()) {\n      case \"f5\":\n        window.location.reload();\n        break;\n      case \" \":\n        e.preventDefault();\n        handlePlayPause();\n        break;\n      case \"k\":\n        handlePlayPause();\n        break;\n      case \"f\":\n        handleFullScreen();\n        break;\n      case \"t\":\n        handleTheaterMode();\n        break;\n      case \"m\":\n        handleMute();\n        break;\n      case \"arrowleft\":\n      case \"j\":\n        skip(-5);\n        break;\n      case \"arrowright\":\n      case \"l\":\n        skip(5);\n        break;\n      case \"c\":\n        // toggleCaptions();\n        break;\n    }\n  };\n\n  // Обработчик переключения режима театра\n  const handleTheaterMode = () => {\n    setIsTheater(!isTheater);\n    dispatch(isTheaterMode(!isTheater));\n  };\n\n  // Обработчик переключения режима мини-плеера\n  const handleMiniPlayer = () => {\n    const videoContainer = document.querySelector(`.${styles[\"video-container\"]}`);\n    const video = document.querySelector(\"video\");\n    if (videoContainer !== null && videoContainer !== void 0 && videoContainer.classList.contains(`.${styles[\"mini-player\"]}`)) {\n      document.exitPictureInPicture();\n    } else {\n      if (video && document.pictureInPictureElement !== video) {\n        // Проверяем, не находится ли видео уже в режиме Picture-in-Picture\n        video.requestPictureInPicture();\n      }\n    }\n  };\n\n  // Обработчик переключения полноэкранного режима\n  const handleFullScreen = () => {\n    const videoContainer = document.querySelector(`.${styles[\"video-container\"]}`);\n    if (document.fullscreenElement === null) {\n      videoContainer === null || videoContainer === void 0 ? void 0 : videoContainer.requestFullscreen();\n    } else {\n      document.exitFullscreen();\n    }\n  };\n\n  // Обработчик изменения состояния полноэкранного режима\n  const handleFullScreenChange = () => {\n    setIsFullScreen(!!document.fullscreenElement);\n  };\n\n  // Обработчик приглушения/отмены приглушения аудио\n  const handleMute = () => {\n    const video = document.querySelector(\"video\");\n    const volumeSlider = document.querySelector(`.${styles[\"volume-slider\"]}`);\n    if (video && volumeSlider) {\n      video.muted = !video.muted;\n      setIsMuted(video.muted);\n      volumeSlider.value = \"0\";\n      if (!video.muted) {\n        video.volume = 1;\n        volumeSlider.value = \"1\";\n      }\n    }\n  };\n\n  // Обработчик изменения уровня громкости\n  const handleInputVolume = e => {\n    const volumeSlider = document.querySelector(`.${styles[\"volume-slider\"]}`);\n    const video = document.querySelector(\"video\");\n    const videoContainer = document.querySelector(`.${styles[\"video-container\"]}`);\n    let volumeLevel;\n    if (video && volumeSlider && videoContainer) {\n      video.volume = e.target.value;\n      if (parseFloat(e.target.value) !== 0) {\n        video.muted = false;\n        setIsMuted(false);\n        if (video.volume > 0.5) {\n          volumeLevel = \"high\";\n        } else {\n          volumeLevel = \"low\";\n        }\n      } else {\n        video.muted = true;\n        setIsMuted(true);\n        volumeLevel = \"muted\";\n      }\n      volumeSlider.value = video.volume;\n      videoContainer.dataset.volumeLevel = volumeLevel;\n    }\n  };\n\n  // Обработчик загрузки видео\n  const handleLoadedVideo = () => {\n    const video = document.querySelector(\"video\");\n    const currentTimeElem = document.querySelector(\".current-time\");\n    const totalTimeElem = document.querySelector(\".total-time\");\n    const timelineContainer = document.querySelector(`.${styles[\"timeline-container\"]}`);\n    if (currentTimeElem && totalTimeElem && video && timelineContainer) {\n      totalTimeElem.textContent = formatDuration(video.duration);\n      currentTimeElem.textContent = formatDuration(video.currentTime);\n      const percent = video.currentTime / video.duration;\n      timelineContainer.style.setProperty(\"--progress-position\", percent.toString());\n    }\n  };\n\n  // Обработчик изменения скорости воспроизведения видео\n  const handlePlaybackSpeed = () => {\n    const speedBtn = document.querySelector(\".speed-btn\");\n    const video = document.querySelector(\"video\");\n    if (speedBtn && video) {\n      let newPlaybackRate = video.playbackRate + 0.25;\n      if (newPlaybackRate > 2) newPlaybackRate = 0.25;\n      video.playbackRate = newPlaybackRate;\n      speedBtn.textContent = `${newPlaybackRate}x`;\n    }\n  };\n  const [isScrubbing, setIsScrubbing] = useState(false);\n  const [wasPaused, setWasPaused] = useState();\n  const handleScrubbing = e => {\n    const timelineContainer = document.querySelector(`.${styles[\"timeline-container\"]}`);\n    const video = document.querySelector(\"video\");\n    if (timelineContainer && video) {\n      const rect = timelineContainer.getBoundingClientRect();\n      const percent = Math.min(Math.max(0, e.screenX - rect.x), rect.width) / rect.width;\n      const isScrubbingg = (e.buttons & 1) === 1;\n      setIsScrubbing(isScrubbingg);\n      if (isScrubbing) {\n        setWasPaused(video.paused);\n        video.pause();\n        setIsMuted(true);\n      } else {\n        video.currentTime = percent * video.duration;\n        if (!wasPaused) {\n          video.play();\n          setPaused(false);\n        }\n      }\n    }\n    handleTimelineUpdate(e);\n  };\n  function handleTimelineUpdate(e) {\n    const timelineContainer = document.querySelector(`.${styles[\"timeline-container\"]}`);\n    const thumbnailImg = document.querySelector(`.${styles[\"thumbnail-img\"]}`);\n    if (timelineContainer && thumbnailImg) {\n      const rect = timelineContainer.getBoundingClientRect();\n      const percent = Math.min(Math.max(0, e.screenX - rect.x), rect.width) / rect.width;\n      timelineContainer.style.setProperty(\"--preview-position\", percent.toString());\n      if (isScrubbing) {\n        e.preventDefault();\n        timelineContainer.style.setProperty(\"--progress-position\", percent.toString());\n      }\n    }\n  }\n\n  // Форматирование чисел с добавлением нулей перед однозначными цифрами\n  const leadingZeroFormatter = new Intl.NumberFormat(undefined, {\n    minimumIntegerDigits: 2\n  });\n\n  // Форматирование длительности видео в формат часы:минуты:секунды\n  function formatDuration(time) {\n    const seconds = Math.floor(time % 60);\n    const minutes = Math.floor(time / 60) % 60;\n    const hours = Math.floor(time / 3600);\n    if (hours === 0) {\n      return `${minutes}:${leadingZeroFormatter.format(seconds)}`;\n    } else {\n      return `${hours}:${leadingZeroFormatter.format(minutes)}:${leadingZeroFormatter.format(seconds)}`;\n    }\n  }\n\n  // Перемотка видео на указанную длительность\n  function skip(duration) {\n    const video = document.querySelector(\"video\");\n    if (video) {\n      video.currentTime += duration;\n    }\n  }\n\n  // Добавляем обработчик событий клавиш при монтировании компонента\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleKeyDown);\n    document.addEventListener(\"fullscreenchange\", handleFullScreenChange);\n    const timelineContainer = document.querySelector(`.${styles[\"timeline-container\"]}`);\n    if (timelineContainer) {\n      timelineContainer.addEventListener(\"mousemove\", handleTimelineUpdate);\n      timelineContainer.addEventListener(\"mousedown\", handleScrubbing);\n    }\n    const handleMouseMove = e => {\n      if (isScrubbing) {\n        handleTimelineUpdate(e);\n      }\n    };\n    const handleMouseUp = e => {\n      if (isScrubbing) {\n        handleScrubbing(e);\n      }\n    };\n    document.addEventListener(\"mouseup\", handleMouseUp);\n    document.addEventListener(\"mousemove\", handleMouseMove);\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDown);\n      document.removeEventListener(\"fullscreenchange\", handleFullScreenChange);\n      document.removeEventListener(\"mouseup\", handleMouseUp);\n      document.removeEventListener(\"mousemove\", handleMouseMove);\n      if (timelineContainer) {\n        timelineContainer.removeEventListener(\"mousemove\", handleTimelineUpdate);\n        timelineContainer.removeEventListener(\"mousedown\", handleScrubbing);\n      }\n    };\n  }, []);\n\n  // Обработчик воспроизведения/паузы видео\n  const handlePlayPause = () => {\n    const video = document.querySelector(\"video\");\n    setPaused(!(video !== null && video !== void 0 && video.paused));\n    video !== null && video !== void 0 && video.paused ? video === null || video === void 0 ? void 0 : video.play() : video === null || video === void 0 ? void 0 : video.pause();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classNames(styles[\"video-container\"], paused && styles.paused, isTheater && styles.theater, isFullScreen && styles[\"full-screen\"], isMuted && styles.muted, isScrubbing && styles.scrubbing),\n    onContextMenu: handleContextMenu,\n    \"data-volume-level\": isMuted ? \"muted\" : \"high\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      className: styles[\"thumbnail-img\"],\n      src: \"\",\n      alt: \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles[\"video-controls-container\"],\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles[\"timeline-container\"],\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.timeline,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: styles[\"preview-img\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles[\"thumb-indicator\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.controls,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles[\"play-pause-button\"],\n          onClick: handlePlayPause,\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: styles[\"play-icon\"],\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fill: \"currentColor\",\n              d: \"M8,5.14V19.14L19,12.14L8,5.14Z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: styles[\"pause-icon\"],\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fill: \"currentColor\",\n              d: \"M14,19H18V5H14M6,19H10V5H6V19Z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles[\"volume-container\"],\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: styles[\"mute-btn\"],\n            onClick: handleMute,\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: styles[\"volume-high-icon\"],\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"currentColor\",\n                d: \"M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: styles[\"volume-low-icon\"],\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"currentColor\",\n                d: \"M5,9V15H9L14,20V4L9,9M18.5,12C18.5,10.23 17.5,8.71 16,7.97V16C17.5,15.29 18.5,13.76 18.5,12Z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: styles[\"volume-muted-icon\"],\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"currentColor\",\n                d: \"M12,4L9.91,6.09L12,8.18M4.27,3L3,4.27L7.73,9H3V15H7L12,20V13.27L16.25,17.53C15.58,18.04 14.83,18.46 14,18.7V20.77C15.38,20.45 16.63,19.82 17.68,18.96L19.73,21L21,19.73L12,10.73M19,12C19,12.94 18.8,13.82 18.46,14.64L19.97,16.15C20.62,14.91 21,13.5 21,12C21,7.72 18,4.14 14,3.23V5.29C16.89,6.15 19,8.83 19,12M16.5,12C16.5,10.23 15.5,8.71 14,7.97V10.18L16.45,12.63C16.5,12.43 16.5,12.21 16.5,12Z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: styles[\"volume-slider\"],\n            type: \"range\",\n            min: \"0\",\n            max: \"1\",\n            step: \"any\",\n            onInput: handleInputVolume\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles[\"duration-container\"],\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"current-time\",\n            children: \"0:00\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 13\n          }, this), \"/\", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"total-time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: classNames(\"speed-btn\", styles[\"wide-btn\"]),\n          onClick: handlePlaybackSpeed,\n          children: \"1x\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles[\"mini-player-btn\"],\n          onClick: handleMiniPlayer,\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fill: \"currentColor\",\n              d: \"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h18v14zm-10-7h9v6h-9z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles[\"theater-btn\"],\n          onClick: handleTheaterMode,\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: styles.tall,\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fill: \"currentColor\",\n              d: \"M19 6H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 10H5V8h14v8z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: styles.wide,\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fill: \"currentColor\",\n              d: \"M19 7H5c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm0 8H5V9h14v6z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles[\"full-screen-btn\"],\n          onClick: handleFullScreen,\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: styles.open,\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fill: \"currentColor\",\n              d: \"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: styles.close,\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fill: \"currentColor\",\n              d: \"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n      src: props.src,\n      onClick: handlePlayPause,\n      onPlay: () => {\n        setPaused(false);\n      },\n      onPause: () => {\n        setPaused(true);\n      },\n      onDoubleClick: handleFullScreen,\n      onLoadedData: handleLoadedVideo,\n      onTimeUpdate: handleLoadedVideo,\n      autoPlay: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 325,\n    columnNumber: 5\n  }, this);\n};\n_s(Player, \"/nSKGrIG3b+NvAkVNGYy8sCNbB0=\", false, function () {\n  return [useDispatch];\n});\n_c = Player;\nexport default Player;\nvar _c;\n$RefreshReg$(_c, \"Player\");","map":{"version":3,"names":["React","useEffect","useState","styles","classNames","useDispatch","isTheaterMode","jsxDEV","_jsxDEV","Player","props","_s","paused","setPaused","isTheater","setIsTheater","isFullScreen","setIsFullScreen","isMuted","setIsMuted","dispatch","handleContextMenu","e","preventDefault","handleKeyDown","_document$activeEleme","tagName","document","activeElement","toLowerCase","key","window","location","reload","handlePlayPause","handleFullScreen","handleTheaterMode","handleMute","skip","handleMiniPlayer","videoContainer","querySelector","video","classList","contains","exitPictureInPicture","pictureInPictureElement","requestPictureInPicture","fullscreenElement","requestFullscreen","exitFullscreen","handleFullScreenChange","volumeSlider","muted","value","volume","handleInputVolume","volumeLevel","target","parseFloat","dataset","handleLoadedVideo","currentTimeElem","totalTimeElem","timelineContainer","textContent","formatDuration","duration","currentTime","percent","style","setProperty","toString","handlePlaybackSpeed","speedBtn","newPlaybackRate","playbackRate","isScrubbing","setIsScrubbing","wasPaused","setWasPaused","handleScrubbing","rect","getBoundingClientRect","Math","min","max","screenX","x","width","isScrubbingg","buttons","pause","play","handleTimelineUpdate","thumbnailImg","leadingZeroFormatter","Intl","NumberFormat","undefined","minimumIntegerDigits","time","seconds","floor","minutes","hours","format","addEventListener","handleMouseMove","handleMouseUp","removeEventListener","className","theater","scrubbing","onContextMenu","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","timeline","controls","onClick","viewBox","fill","d","type","step","onInput","tall","wide","open","close","onPlay","onPause","onDoubleClick","onLoadedData","onTimeUpdate","autoPlay","_c","$RefreshReg$"],"sources":["C:/Users/Dmitry/Documents/GitHub/Pandela-Frontend/src/components/Player.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport styles from \"../styles/components/Player.module.scss\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport classNames from \"classnames\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { isTheaterMode } from \"../store/playerModeSlice\";\r\n\r\ninterface IPlayer {\r\n  src: string;\r\n}\r\n\r\nconst Player = (props: IPlayer) => {\r\n  // Состояния для управления плеером\r\n  const [paused, setPaused] = useState<boolean>(true); // Приостановлено ли видео\r\n  const [isTheater, setIsTheater] = useState<boolean>(false); // Включен ли режим театра\r\n  const [isFullScreen, setIsFullScreen] = useState<boolean>(false); // Находится ли видео в полноэкранном режиме\r\n  const [isMuted, setIsMuted] = useState<boolean>(false); // Приглушено ли аудио\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  // Обработчик контекстного меню для предотвращения его отображения\r\n  const handleContextMenu = (e: any) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  // Обработчик нажатия клавиш\r\n  const handleKeyDown = (e: any) => {\r\n    const tagName = document.activeElement?.tagName.toLowerCase();\r\n    // e.preventDefault();\r\n\r\n    if (tagName === \"input\") return;\r\n\r\n    switch (e.key.toLowerCase()) {\r\n      case \"f5\":\r\n        window.location.reload();\r\n        break;\r\n      case \" \":\r\n        e.preventDefault();\r\n        handlePlayPause();\r\n        break;\r\n      case \"k\":\r\n        handlePlayPause();\r\n        break;\r\n      case \"f\":\r\n        handleFullScreen();\r\n        break;\r\n      case \"t\":\r\n        handleTheaterMode();\r\n        break;\r\n      case \"m\":\r\n        handleMute();\r\n        break;\r\n      case \"arrowleft\":\r\n      case \"j\":\r\n        skip(-5);\r\n        break;\r\n      case \"arrowright\":\r\n      case \"l\":\r\n        skip(5);\r\n        break;\r\n      case \"c\":\r\n        // toggleCaptions();\r\n        break;\r\n    }\r\n  };\r\n\r\n  // Обработчик переключения режима театра\r\n  const handleTheaterMode = () => {\r\n    setIsTheater(!isTheater);\r\n    dispatch(isTheaterMode(!isTheater));\r\n  };\r\n\r\n  // Обработчик переключения режима мини-плеера\r\n  const handleMiniPlayer = () => {\r\n    const videoContainer = document.querySelector(\r\n      `.${styles[\"video-container\"]}`\r\n    );\r\n    const video: HTMLVideoElement | null = document.querySelector(\"video\");\r\n    if (videoContainer?.classList.contains(`.${styles[\"mini-player\"]}`)) {\r\n      document.exitPictureInPicture();\r\n    } else {\r\n      if (video && document.pictureInPictureElement !== video) {\r\n        // Проверяем, не находится ли видео уже в режиме Picture-in-Picture\r\n        video.requestPictureInPicture();\r\n      }\r\n    }\r\n  };\r\n\r\n  // Обработчик переключения полноэкранного режима\r\n  const handleFullScreen = () => {\r\n    const videoContainer = document.querySelector(\r\n      `.${styles[\"video-container\"]}`\r\n    );\r\n    if (document.fullscreenElement === null) {\r\n      videoContainer?.requestFullscreen();\r\n    } else {\r\n      document.exitFullscreen();\r\n    }\r\n  };\r\n\r\n  // Обработчик изменения состояния полноэкранного режима\r\n  const handleFullScreenChange = () => {\r\n    setIsFullScreen(!!document.fullscreenElement);\r\n  };\r\n\r\n  // Обработчик приглушения/отмены приглушения аудио\r\n  const handleMute = () => {\r\n    const video: HTMLVideoElement | null = document.querySelector(\"video\");\r\n    const volumeSlider: HTMLInputElement | null = document.querySelector(\r\n      `.${styles[\"volume-slider\"]}`\r\n    );\r\n    if (video && volumeSlider) {\r\n      video.muted = !video.muted;\r\n      setIsMuted(video.muted);\r\n      volumeSlider.value = \"0\";\r\n      if (!video.muted) {\r\n        video.volume = 1;\r\n        volumeSlider.value = \"1\";\r\n      }\r\n    }\r\n  };\r\n\r\n  // Обработчик изменения уровня громкости\r\n  const handleInputVolume = (e: any) => {\r\n    const volumeSlider: any = document.querySelector(\r\n      `.${styles[\"volume-slider\"]}`\r\n    );\r\n    const video: HTMLVideoElement | null = document.querySelector(\"video\");\r\n    const videoContainer: HTMLDivElement | null = document.querySelector(\r\n      `.${styles[\"video-container\"]}`\r\n    );\r\n    let volumeLevel: string;\r\n    if (video && volumeSlider && videoContainer) {\r\n      video.volume = e.target.value;\r\n      if (parseFloat(e.target.value) !== 0) {\r\n        video.muted = false;\r\n        setIsMuted(false);\r\n        if (video.volume > 0.5) {\r\n          volumeLevel = \"high\";\r\n        } else {\r\n          volumeLevel = \"low\";\r\n        }\r\n      } else {\r\n        video.muted = true;\r\n        setIsMuted(true);\r\n        volumeLevel = \"muted\";\r\n      }\r\n\r\n      volumeSlider.value = video.volume;\r\n      videoContainer.dataset.volumeLevel = volumeLevel;\r\n    }\r\n  };\r\n\r\n  // Обработчик загрузки видео\r\n  const handleLoadedVideo = () => {\r\n    const video: HTMLVideoElement | null = document.querySelector(\"video\");\r\n    const currentTimeElem: HTMLDivElement | null =\r\n      document.querySelector(\".current-time\");\r\n    const totalTimeElem: HTMLDivElement | null =\r\n      document.querySelector(\".total-time\");\r\n    const timelineContainer: HTMLDivElement | null = document.querySelector(\r\n      `.${styles[\"timeline-container\"]}`\r\n    );\r\n\r\n    if (currentTimeElem && totalTimeElem && video && timelineContainer) {\r\n      totalTimeElem.textContent = formatDuration(video.duration);\r\n      currentTimeElem.textContent = formatDuration(video.currentTime);\r\n      const percent = video.currentTime / video.duration;\r\n      timelineContainer.style.setProperty(\r\n        \"--progress-position\",\r\n        percent.toString()\r\n      );\r\n    }\r\n  };\r\n\r\n  // Обработчик изменения скорости воспроизведения видео\r\n  const handlePlaybackSpeed = () => {\r\n    const speedBtn: HTMLDivElement | null =\r\n      document.querySelector(\".speed-btn\");\r\n    const video: HTMLVideoElement | null = document.querySelector(\"video\");\r\n\r\n    if (speedBtn && video) {\r\n      let newPlaybackRate = video.playbackRate + 0.25;\r\n      if (newPlaybackRate > 2) newPlaybackRate = 0.25;\r\n      video.playbackRate = newPlaybackRate;\r\n      speedBtn.textContent = `${newPlaybackRate}x`;\r\n    }\r\n  };\r\n\r\n  const [isScrubbing, setIsScrubbing] = useState<boolean>(false);\r\n  const [wasPaused, setWasPaused] = useState<boolean>();\r\n\r\n  const handleScrubbing = (e: any) => {\r\n    const timelineContainer: HTMLDivElement | null = document.querySelector(\r\n      `.${styles[\"timeline-container\"]}`\r\n    );\r\n    const video: HTMLVideoElement | null = document.querySelector(\"video\");\r\n\r\n    if (timelineContainer && video) {\r\n      const rect = timelineContainer.getBoundingClientRect();\r\n      const percent =\r\n        Math.min(Math.max(0, e.screenX - rect.x), rect.width) / rect.width;\r\n      const isScrubbingg = (e.buttons & 1) === 1;\r\n\r\n      setIsScrubbing(isScrubbingg);\r\n      if (isScrubbing) {\r\n        setWasPaused(video.paused);\r\n        video.pause();\r\n        setIsMuted(true);\r\n      } else {\r\n        video.currentTime = percent * video.duration;\r\n        if (!wasPaused) {\r\n          video.play();\r\n          setPaused(false);\r\n        }\r\n      }\r\n    }\r\n\r\n    handleTimelineUpdate(e);\r\n  };\r\n\r\n  function handleTimelineUpdate(e: any) {\r\n    const timelineContainer: HTMLDivElement | null = document.querySelector(\r\n      `.${styles[\"timeline-container\"]}`\r\n    );\r\n    const thumbnailImg: HTMLDivElement | null = document.querySelector(\r\n      `.${styles[\"thumbnail-img\"]}`\r\n    );\r\n    if (timelineContainer && thumbnailImg) {\r\n      const rect = timelineContainer.getBoundingClientRect();\r\n      const percent =\r\n        Math.min(Math.max(0, e.screenX - rect.x), rect.width) / rect.width;\r\n      timelineContainer.style.setProperty(\r\n        \"--preview-position\",\r\n        percent.toString()\r\n      );\r\n\r\n      if (isScrubbing) {\r\n        e.preventDefault();\r\n        timelineContainer.style.setProperty(\r\n          \"--progress-position\",\r\n          percent.toString()\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  // Форматирование чисел с добавлением нулей перед однозначными цифрами\r\n  const leadingZeroFormatter = new Intl.NumberFormat(undefined, {\r\n    minimumIntegerDigits: 2,\r\n  });\r\n\r\n  // Форматирование длительности видео в формат часы:минуты:секунды\r\n  function formatDuration(time: number): string {\r\n    const seconds = Math.floor(time % 60);\r\n    const minutes = Math.floor(time / 60) % 60;\r\n    const hours = Math.floor(time / 3600);\r\n\r\n    if (hours === 0) {\r\n      return `${minutes}:${leadingZeroFormatter.format(seconds)}`;\r\n    } else {\r\n      return `${hours}:${leadingZeroFormatter.format(\r\n        minutes\r\n      )}:${leadingZeroFormatter.format(seconds)}`;\r\n    }\r\n  }\r\n\r\n  // Перемотка видео на указанную длительность\r\n  function skip(duration: number) {\r\n    const video: HTMLVideoElement | null = document.querySelector(\"video\");\r\n    if (video) {\r\n      video.currentTime += duration;\r\n    }\r\n  }\r\n\r\n  // Добавляем обработчик событий клавиш при монтировании компонента\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", handleKeyDown);\r\n    document.addEventListener(\"fullscreenchange\", handleFullScreenChange);\r\n    const timelineContainer = document.querySelector(\r\n      `.${styles[\"timeline-container\"]}`\r\n    );\r\n    if (timelineContainer) {\r\n      timelineContainer.addEventListener(\"mousemove\", handleTimelineUpdate);\r\n      timelineContainer.addEventListener(\"mousedown\", handleScrubbing);\r\n    }\r\n\r\n    const handleMouseMove = (e: any) => {\r\n      if (isScrubbing) {\r\n        handleTimelineUpdate(e);\r\n      }\r\n    };\r\n\r\n    const handleMouseUp = (e: any) => {\r\n      if (isScrubbing) {\r\n        handleScrubbing(e);\r\n      }\r\n    };\r\n    document.addEventListener(\"mouseup\", handleMouseUp);\r\n    document.addEventListener(\"mousemove\", handleMouseMove);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleKeyDown);\r\n      document.removeEventListener(\"fullscreenchange\", handleFullScreenChange);\r\n      document.removeEventListener(\"mouseup\", handleMouseUp);\r\n      document.removeEventListener(\"mousemove\", handleMouseMove);\r\n      if (timelineContainer) {\r\n        timelineContainer.removeEventListener(\r\n          \"mousemove\",\r\n          handleTimelineUpdate\r\n        );\r\n        timelineContainer.removeEventListener(\"mousedown\", handleScrubbing);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Обработчик воспроизведения/паузы видео\r\n  const handlePlayPause = () => {\r\n    const video: HTMLVideoElement | null = document.querySelector(\"video\");\r\n    setPaused(!video?.paused);\r\n    video?.paused ? video?.play() : video?.pause();\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={classNames(\r\n        styles[\"video-container\"],\r\n        paused && styles.paused,\r\n        isTheater && styles.theater,\r\n        isFullScreen && styles[\"full-screen\"],\r\n        isMuted && styles.muted,\r\n        isScrubbing && styles.scrubbing\r\n      )}\r\n      onContextMenu={handleContextMenu}\r\n      data-volume-level={isMuted ? \"muted\" : \"high\"}\r\n    >\r\n      <img className={styles[\"thumbnail-img\"]} src=\"\" alt=\"\" />\r\n      <div className={styles[\"video-controls-container\"]}>\r\n        <div className={styles[\"timeline-container\"]}>\r\n          <div className={styles.timeline}>\r\n            <img className={styles[\"preview-img\"]} />\r\n            <div className={styles[\"thumb-indicator\"]}></div>\r\n          </div>\r\n        </div>\r\n        <div className={styles.controls}>\r\n          <button\r\n            className={styles[\"play-pause-button\"]}\r\n            onClick={handlePlayPause}\r\n          >\r\n            <svg className={styles[\"play-icon\"]} viewBox=\"0 0 24 24\">\r\n              <path fill=\"currentColor\" d=\"M8,5.14V19.14L19,12.14L8,5.14Z\" />\r\n            </svg>\r\n            <svg className={styles[\"pause-icon\"]} viewBox=\"0 0 24 24\">\r\n              <path fill=\"currentColor\" d=\"M14,19H18V5H14M6,19H10V5H6V19Z\" />\r\n            </svg>\r\n          </button>\r\n          <div className={styles[\"volume-container\"]}>\r\n            <button className={styles[\"mute-btn\"]} onClick={handleMute}>\r\n              <svg className={styles[\"volume-high-icon\"]} viewBox=\"0 0 24 24\">\r\n                <path\r\n                  fill=\"currentColor\"\r\n                  d=\"M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z\"\r\n                />\r\n              </svg>\r\n              <svg className={styles[\"volume-low-icon\"]} viewBox=\"0 0 24 24\">\r\n                <path\r\n                  fill=\"currentColor\"\r\n                  d=\"M5,9V15H9L14,20V4L9,9M18.5,12C18.5,10.23 17.5,8.71 16,7.97V16C17.5,15.29 18.5,13.76 18.5,12Z\"\r\n                />\r\n              </svg>\r\n              <svg className={styles[\"volume-muted-icon\"]} viewBox=\"0 0 24 24\">\r\n                <path\r\n                  fill=\"currentColor\"\r\n                  d=\"M12,4L9.91,6.09L12,8.18M4.27,3L3,4.27L7.73,9H3V15H7L12,20V13.27L16.25,17.53C15.58,18.04 14.83,18.46 14,18.7V20.77C15.38,20.45 16.63,19.82 17.68,18.96L19.73,21L21,19.73L12,10.73M19,12C19,12.94 18.8,13.82 18.46,14.64L19.97,16.15C20.62,14.91 21,13.5 21,12C21,7.72 18,4.14 14,3.23V5.29C16.89,6.15 19,8.83 19,12M16.5,12C16.5,10.23 15.5,8.71 14,7.97V10.18L16.45,12.63C16.5,12.43 16.5,12.21 16.5,12Z\"\r\n                />\r\n              </svg>\r\n            </button>\r\n            <input\r\n              className={styles[\"volume-slider\"]}\r\n              type=\"range\"\r\n              min=\"0\"\r\n              max=\"1\"\r\n              step=\"any\"\r\n              onInput={handleInputVolume}\r\n            />\r\n          </div>\r\n          <div className={styles[\"duration-container\"]}>\r\n            <div className=\"current-time\">0:00</div>/\r\n            <div className=\"total-time\"></div>\r\n          </div>\r\n          {/* <button className={styles[\"captions-btn\"]}>\r\n            <svg viewBox=\"0 0 24 24\">\r\n              <path\r\n                fill=\"currentColor\"\r\n                d=\"M18,11H16.5V10.5H14.5V13.5H16.5V13H18V14A1,1 0 0,1 17,15H14A1,1 0 0,1 13,14V10A1,1 0 0,1 14,9H17A1,1 0 0,1 18,10M11,11H9.5V10.5H7.5V13.5H9.5V13H11V14A1,1 0 0,1 10,15H7A1,1 0 0,1 6,14V10A1,1 0 0,1 7,9H10A1,1 0 0,1 11,10M19,4H5C3.89,4 3,4.89 3,6V18A2,2 0 0,0 5,20H19A2,2 0 0,0 21,18V6C21,4.89 20.1,4 19,4Z\"\r\n              />\r\n            </svg>\r\n          </button> на будущее */}\r\n          <button\r\n            className={classNames(\"speed-btn\", styles[\"wide-btn\"])}\r\n            onClick={handlePlaybackSpeed}\r\n          >\r\n            1x\r\n          </button>\r\n          <button\r\n            className={styles[\"mini-player-btn\"]}\r\n            onClick={handleMiniPlayer}\r\n          >\r\n            <svg viewBox=\"0 0 24 24\">\r\n              <path\r\n                fill=\"currentColor\"\r\n                d=\"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h18v14zm-10-7h9v6h-9z\"\r\n              />\r\n            </svg>\r\n          </button>\r\n          <button className={styles[\"theater-btn\"]} onClick={handleTheaterMode}>\r\n            <svg className={styles.tall} viewBox=\"0 0 24 24\">\r\n              <path\r\n                fill=\"currentColor\"\r\n                d=\"M19 6H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 10H5V8h14v8z\"\r\n              />\r\n            </svg>\r\n            <svg className={styles.wide} viewBox=\"0 0 24 24\">\r\n              <path\r\n                fill=\"currentColor\"\r\n                d=\"M19 7H5c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm0 8H5V9h14v6z\"\r\n              />\r\n            </svg>\r\n          </button>\r\n          <button\r\n            className={styles[\"full-screen-btn\"]}\r\n            onClick={handleFullScreen}\r\n          >\r\n            <svg className={styles.open} viewBox=\"0 0 24 24\">\r\n              <path\r\n                fill=\"currentColor\"\r\n                d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"\r\n              />\r\n            </svg>\r\n            <svg className={styles.close} viewBox=\"0 0 24 24\">\r\n              <path\r\n                fill=\"currentColor\"\r\n                d=\"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\"\r\n              />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <video\r\n        src={props.src}\r\n        onClick={handlePlayPause}\r\n        onPlay={() => {\r\n          setPaused(false);\r\n        }}\r\n        onPause={() => {\r\n          setPaused(true);\r\n        }}\r\n        onDoubleClick={handleFullScreen}\r\n        onLoadedData={handleLoadedVideo}\r\n        onTimeUpdate={handleLoadedVideo}\r\n        autoPlay\r\n      ></video>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Player;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}